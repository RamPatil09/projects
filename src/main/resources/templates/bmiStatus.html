<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>BMI Calculator - Result</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<link rel="stylesheet" href="/style.css">
</head>

<body>
	<div class="container">
		<h2 class="mt-4">BMI Calculation Result</h2>
		<p>Your BMI: <b><u><span th:text="${calculate}"></u></b></span></p>
		<p>BMI Status: <span id="bmiStatusContainer"><b><span th:text="${bmiStatus}"></span></b></span></p>
		<a th:href="@{/home}" class="btn btn-primary">Back to BMI Form</a>
	</div>

	<div class="table-container">
		<table>
			<tr>
				<td>
					<p>BMI Score</p>
				</td>
				<td>
					<p>Classification</p>
				</td>
			</tr>
			<tr>
				<td>
					<p>
						< 16</p>
				</td>
				<td style="background-color: rgba(255, 0, 0, 0.5); font-weight: bold;">Severely underweight</td>
			</tr>

			<tr>
				<td>
					<p>16 - 18.4</p>
				</td>
				<td style="background-color: rgba(255, 255, 0, 0.5); font-weight: bold;">Underweight</td>
			</tr>

			<tr>
				<td>
					<p>18.5 - 24.9</p>
				</td>
				<td style="background-color: rgba(50, 205, 50, 0.5); font-weight: bold;">Normal (healthy weight)</td>
			</tr>
			<tr>
				<td>
					<p>25 - 29.9</p>
				</td>
				<td style="background-color: rgba(255, 255, 0, 0.5); font-weight: bold;">Overweight</td>
			</tr>
			<tr>
				<td>
					<p>> 30</p>
				</td>
				<td style="background-color: rgba(255, 0, 0, 0.5); font-weight: bold;">Obese</td>
			</tr>
		</table>
	</div>

	<script>
		// JavaScript to change the background color of BMI Status based on its classification
		document.addEventListener('DOMContentLoaded', function () {
			var bmiStatusContainer = document.getElementById('bmiStatusContainer');
			var bmiStatus = bmiStatusContainer.innerText.trim();

			// Define the classification and corresponding CSS class mapping
			var classificationToClass = {
				'Severely underweight': 'bmi-status-severely-underweight',
				'Underweight': 'bmi-status-underweight',
				'Normal (healthy weight)': 'bmi-status-normal',
				'Overweight': 'bmi-status-overweight',
				'Obese': 'bmi-status-obese'
			};

			// Check if the BMI Status has a valid classification
			if (classificationToClass.hasOwnProperty(bmiStatus)) {
				// Apply the appropriate CSS class to change the background color
				bmiStatusContainer.classList.add(classificationToClass[bmiStatus]);
			}
		});
	</script>
</body>

</html>